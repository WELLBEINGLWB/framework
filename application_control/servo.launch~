<launch>

     <node pkg="application_control" name="application_control" type="application_control" args="$(find application_control)/transitions/transitions.yaml" output="screen" />
     <rosparam param="home_position">[   0.70, -0.90, 0.30,    -0.0 , 0.70, -0.0, 0.70   ]</rosparam>


     <node pkg="rviz" name="rviz"  type="rviz" />
     
     <node pkg="baxter_interface" name="action_server" type="joint_trajectory_action_server.py" output="screen" />

     <!--node pkg="tf" name="base_broadcaster" type="static_transform_publisher" args="0 0 0.94 0 0 0 elevated_base base 50" /-->

	<node pkg="visual_servo_control" name="visual_servo_control_node"  type="visual_servo_control_node" output="screen" respawn="false" >
	
	
	     <!-- General paths for halcon  -->
		<param name="halcon_script_path" 	               type="str"	value="$(find visual_servo_control)/halcon_scripts/cake_test.hdev" />		
		<param name="halcon_external_procedures_path" 	type="str"	value="$(find visual_servo_control)/halcon_external_procedures" />	
		<param name="camera_parameters_path" 	          type="str"	value="$(find visual_servo_control)/camera_parameters/tis_camera_parameters.dat" />	
	
	
	     <!-- Specific names of defined functions -->
	     <param name="initialize_camera_function" 	     type="str"	value="initialize_camera_tis" />
	     <param name="grab_rectified_image_function" 	     type="str"	value="grab_rectified_image" />
	     <param name="find_points_function" 	          type="str"	value="find_points" />
	     <param name="find_cog_caltab_function" 	          type="str"	value="find_cog_caltab" />
	     <param name="display_grabbed_image" 	          type="str"	value="display_grabbed_image" />
	     <param name="close_frame_grabber_function" 	     type="str"	value="close_frame_grabber" />
	        
	     <param name="test" 	          type="str"	value="test" />   
	        
	</node>
	
	<node pkg="baxter" type="robot_control_action_server" args="right" name="robot_control_right_arm"/> 

	
</launch>

